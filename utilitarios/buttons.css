/* =========================
   Botões — base e variantes
   ========================= */

:root{
  --btn-fg: #fff;
  --btn-shadow: 0 6px 12px rgba(0,0,0,.25);
  --ripple-color: rgba(255,255,255,.35);
  --ring: 0 0 0 2px rgba(99,102,241,.35);
}

@media (prefers-color-scheme: light){
  :root{
    --ripple-color: rgba(255,255,255,.5);
    --ring: 0 0 0 2px rgba(79,70,229,.35);
  }
}

.btn{
  --bg: linear-gradient(270deg, #6366f1, #4f46e5, #4338ca);
  --shadow: 0 6px 12px rgba(79, 70, 229, .45);

  position: relative;
  overflow: hidden;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 12px;

  padding: 10px 14px;
  border: 0;
  border-radius: 14px;
  cursor: pointer;

  color: var(--btn-fg);
  background: var(--bg);
  background-size: 600% 600%;
  animation: gradientShift 10s ease infinite;

  font: 700 1.05rem/1 ui-sans-serif, system-ui, "Segoe UI", Inter, Roboto, Arial;
  user-select: none;
  box-shadow: var(--shadow);
  transition: box-shadow .25s ease, transform .1s ease, opacity .2s ease;
}

.btn:hover{ box-shadow: 0 10px 20px rgba(79,70,229,.6); transform: translateY(-2px) }
.btn:active{ transform: translateY(1px); box-shadow: 0 4px 10px rgba(79,70,229,.4) }
.btn:focus-visible{ outline: none; box-shadow: var(--shadow), var(--ring) }
.btn[disabled], .btn:disabled{ opacity:.6; cursor:not-allowed; transform:none; box-shadow: none }

/* Ícone dentro do botão */
.btn svg{ width:20px; height:20px; stroke: currentColor; transition: transform .25s ease }
.btn:hover svg{ transform: translateX(6px) rotate(8deg) }

/* Variantes */
.btn-edit{
  --bg: linear-gradient(270deg, #3b82f6, #2563eb, #1d4ed8);
  --shadow: 0 6px 12px rgba(37,99,235,.45);
}
.btn-save{
  --bg: linear-gradient(270deg, #16a34a, #22c55e, #15803d);
  --shadow: 0 6px 12px rgba(21,128,61,.45);
}
.btn-cancel{
  --bg: linear-gradient(270deg, #dc2626, #ef4444, #b91c1c);
  --shadow: 0 6px 12px rgba(185,28,28,.45);
}

/* Outline / Ghost / Icon-only opcionais */
.btn-outline{
  --btn-fg:#4f46e5;
  background: transparent;
  border:1.5px solid currentColor;
  color: var(--btn-fg);
  box-shadow:none;
}
.btn-outline:hover{ background: rgba(79,70,229,.08) }

.btn-ghost{
  background: transparent;
  box-shadow:none;
}
.btn-ghost:hover{ background: rgba(255,255,255,.06) }

.btn-icon{
  padding: 10px;
  width: 42px; height: 42px;
  border-radius: 12px;
}

/* Tamanhos */
.btn-sm{ padding:8px 10px; border-radius:12px; font-size:.95rem }
.btn-lg{ padding:12px 18px; border-radius:16px; font-size:1.1rem }

/* Loading state opcional */
.btn[data-loading="true"]{ cursor: progress; pointer-events: none; opacity:.85 }
.btn .spinner{
  width:18px; height:18px; border:2px solid rgba(255,255,255,.35); border-top-color:#fff; border-radius:50%;
  display:none; animation: spin .8s linear infinite;
}
.btn[data-loading="true"] .spinner{ display:inline-block }

/* Ripple element (injetado via JS) */
.btn .ripple{
  position: absolute; inset: 0 auto auto 0;
  border-radius: inherit;
  pointer-events: none;
  transform: translate(var(--rx,0), var(--ry,0)) scale(0);
  width: var(--rs, 0px); height: var(--rs, 0px);
  background: var(--ripple-color);
  opacity:.9;
  animation: rippleAnim 600ms ease-out;
  z-index: 1;
}

/* Keyframes */
@keyframes gradientShift{
  0%{ background-position: 0% 50% }
  50%{ background-position: 100% 50% }
  100%{ background-position: 0% 50% }
}
@keyframes rippleAnim{
  to { transform: translate(var(--rx,0), var(--ry,0)) scale(1); opacity: 0 }
}
@keyframes spin{ to{ transform: rotate(360deg) } }

/* Close (para modais etc.) */
.btn-close{
  position:absolute; top:10px; right:10px;
  background: transparent; border:0; color:inherit; font-size:1.4rem; cursor:pointer;
}
.btn-close:hover{ filter: brightness(1.2) }

/* Respeita preferências do usuário */
@media (prefers-reduced-motion: reduce){
  .btn{ animation: none }
  .btn:hover svg{ transform:none }
  .btn .ripple{ display:none }
}
